/*
File: HTML Tagged Template Literals 2
Author: Anshu Krishna
Contact: anshu.krishna5@gmail.com
Date: 24-Oct-2019
*/
const HTML=function(){function e(t){const n=[];for(let e of t.attributes){const t=e.value.match(a);t&&n.push({node:e,value:e.value,match:t.map(c)})}const r=Array.from(t.childNodes);for(let e of r){if(3!==e.nodeType)continue;const t=e.nodeValue.match(a);t&&n.push({node:e,value:e.nodeValue,match:t.map(c)})}for(let r of t.children)for(let t of e(r))n.push(t);return n}function t(e){if(e instanceof HTMLElement||e instanceof Text)return e;switch(typeof e){case"object":return Array.isArray(e)?e.map(t):document.createTextNode(JSON.stringify(e));case"function":return t(e())}return document.createTextNode(String(e))}function n(e){if(e instanceof HTMLElement)return e.textContent;if(e instanceof Text)return e.nodeValue;switch(typeof e){case"object":return JSON.stringify(e);case"function":return n(e())}return String(e)}function r(r,...c){let l=r[0];for(let e=0,t=c.length;e<t;e++)l+=`${o}${e}${r[e+1]}`;let i=document.createElement("div");i.innerHTML=l;let f=e(i);for(let e of f)switch(e.node.nodeType){case 2:{let t=String(e.value);for(let r of e.match)t=t.replace(r.replace,n(c[r.index]));e.node.nodeValue=t}break;case 3:{let n=e.value.split(a).map(e=>document.createTextNode(e)),r=e.node.parentElement;r.insertBefore(n[0],e.node);for(let o=0,a=e.match.length;o<a;o++){let a=t(c[e.match[o].index]);if(Array.isArray(a))for(let t of a)r.insertBefore(t,e.node);else r.insertBefore(a,e.node);r.insertBefore(n[o+1],e.node)}r.removeChild(e.node)}}return i.normalize(),1!==i.children.length?(console.error("Invalid content in the template tag"),null):i.firstChild}const o="thisIsInternalPlaceholder",a=new RegExp(`${o}[0-9]+`,"g"),c=e=>({replace:e,index:parseInt(e.replace(o,""))});return r}();